<mvc:View controllerName="ecu.controller.RoomDetails" 
    xmlns="sap.m" 
    xmlns:l="sap.ui.layout" 
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true" 
    xmlns:tnt="sap.tnt" 
    xmlns:unified="sap.ui.unified" 
    xmlns:core="sap.ui.core">
    <App id="roomDetails">
        <pages>
            <Page showHeader="false">
                <content class="freeRoom">
                    <Image id="roomDetailsImage" src="./resources/images/transparent2.png" class="" width="100%" height="100%" />
                    <FlexBox alignItems="Start" class="flexBoxHeaderClass">
                        <items>
                            <Text text="{roomName>/value/0/roomName}" class="detailsText">
                                <layoutData>
                                    <FlexItemData growFactor="1" />
                                </layoutData>
                            </Text>
                            <Label id="oClock" class="headerClock">
                                <layoutData>
                                    <FlexItemData growFactor="1" />
                                </layoutData>
                            </Label>
                        </items>
                    </FlexBox>
                    <FlexBox alignItems="Start" class="flexBoxClass">
                        <items>
                            <Text text="{ActualStatus>/status/0/CurrentOrUse}" class="availableText">
                                <layoutData>
                                    <FlexItemData growFactor="1" />
                                </layoutData>
                            </Text>
                            <Text text="{reservationTimeHeader>/time/0/mainTime}" class="availableTextReservation">
                                <layoutData>
                                    <FlexItemData growFactor="1" />
                                </layoutData>
                            </Text>
                        </items>
                    </FlexBox>
                    <HBox class="flexBoxMainClass">
                        <VBox class="nextOrCurrentVBox">
                            <Table id="roomDetailsTableClosest" inset="false" class="roomDetailsTableClosest">
                                <columns>
                                    <Column width="23.7%" text="text"></Column>
                                    <Column width="29.3%" demandPopin="true"></Column>
                                </columns>
                                <items>
                                    <ColumnListItem>
                                        <cells>
                                            <ObjectIdentifier title="{ActualStatus>/status/0/CurrentOrNext}" class="roomDetailsNextCurrent"/>
                                            <ObjectIdentifier title="{reservationTime>/value/0/subject}" class="roomDetailsNextDesc"/>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                            <ProgressIndicator id="progressBar" class="progressBar" percentValue="{ActualStatus>/status/0/ProgressBar}" displayValue="{ActualStatus>/status/0/ProgressBar}%" showValue="true" state="Success" width="100%"/>
                            <HBox id="quickReservationHBox">
                                <Image src="./resources/images/button_15mins.png" class="endNowAndQuickRes" press="onImageQuickRes1"/>
                                <Image src="./resources/images/button_30mins.png" class="endNowAndQuickRes" press="onImageQuickRes2"/>
                                <Image src="./resources/images/button_45mins.png" class="endNowAndQuickRes" press="onImageQuickRes3"/>
                            </HBox>
                        </VBox>
                        <Image id="endNowAndQuickRes" src="" class="endNowAndQuickRes" press="onEndNowAndQuickRes"/>
                    </HBox>
                    <ScrollContainer id="roomDetailsScrollContainer" height='26%' vertical='true' class="roomDetailsTableMain">
                        <VBox id="roomDetailsTableFindAnother" visible="false">
                            <PlanningCalendar id="PC1" startDate="{path: 'allRoomsOccupancy>/0/value/0/startTime'}" rows="{path: 'allRoomsOccupancy>/'}" appointmentsVisualization="Filled" appointmentSelect="handleAppointmentSelect" showEmptyIntervalHeaders="false">
                                <rows>
                                    <PlanningCalendarRow icon="sap-icon://meeting-room" title="{path: 'allRoomsOccupancy>emailAddress/'}" text="{path: 'allRoomsOccupancy>available/'}" appointments="{path : 'allRoomsOccupancy>value/', templateShareable: 'true'}" intervalHeaders="{path: 'reservationTime>value', templateShareable: 'true'}">
                                        <appointments>
                                            <unified:CalendarAppointment startDate="{allRoomsOccupancy>start/dateTime}" endDate="{allRoomsOccupancy>end/dateTime}" title="{allRoomsOccupancy>subject}" text="{allRoomsOccupancy>organizer/emailAddress/name}" type="{allRoomsOccupancy>type}" tentative="false"></unified:CalendarAppointment>
                                        </appointments>
                                        <intervalHeaders>
                                            <unified:CalendarAppointment startDate="{startDate}" endDate="{endDate}" title="{endDate}" type="Type02"></unified:CalendarAppointment>
                                        </intervalHeaders>
                                    </PlanningCalendarRow>
                                </rows>
                            </PlanningCalendar>
                        </VBox>
                        <HBox id="roomDetailsTableAll">
                            <Table id="roomDetailsTableReservations" inset="false" items="{path: 'reservationTime>/value/'}" class="roomDetailsTableAll">
                                <columns>
                                    <Column width="20%">
                                        <Text text="Organizer" class="roomDetailsColumnDesc"/>
                                    </Column>
                                    <Column width="30%" demandPopin="true">
                                        <Text text="Subject" class="roomDetailsColumnDesc"/>
                                    </Column>
                                    <Column width="30%" demandPopin="true">
                                        <Text text="ReservationTime" class="roomDetailsColumnDesc"/>
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem>
                                        <cells>
                                            <Text text="{reservationTime>organizer}" class="roomDetailsTableDesc"/>
                                            <Text text="{reservationTime>subject}" class="roomDetailsTableDesc"/>
                                            <Text text="{reservationTime>reservationTime}" class="roomDetailsTableDesc"/>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </HBox>
                        <Table id="roomDetailsTablePeople" inset="false" items="{path: 'reservationTime>/value/0/attendees/'}" visible="false">
                            <columns>
                                <Column width="25%" text="text">
                                    <Text text="Name" class="roomDetailsColumnDesc"/>
                                </Column>
                                <Column width="25%" demandPopin="true">
                                    <Text text="Phone" class="roomDetailsColumnDesc"/>
                                </Column>
                                <Column width="30%" demandPopin="true">
                                    <Text text="Email address" class="roomDetailsColumnDesc"/>
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{reservationTime>name}" class="roomDetailsTableDesc"/>
                                        <Text text="{reservationTime>phone}" class="roomDetailsTableDesc"/>
                                        <Text text="{reservationTime>address}" class="roomDetailsTableDesc" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                        <!-- <Table id="roomDetailsTableFindAnother" inset="false" items="{path: 'reservationDetailsFindAnother>/'}" visible="false"><columns><Column width="20%" text="text"><Text text="Name" class="roomDetailsColumnDesc"/></Column><Column width="30%" demandPopin="true"><Text text="Location" class="roomDetailsColumnDesc"/></Column><Column width="30%" demandPopin="true"><Text text="Principal name" class="roomDetailsColumnDesc"/></Column></columns><items><ColumnListItem><cells><Text text="{reservationDetailsFindAnother>displayName}" class="roomDetailsTableDesc"/><Text text="{reservationDetailsFindAnother>officeLocation}" class="roomDetailsTableDesc"/><Text text="{reservationDetailsFindAnother>userPrincipalName}" class="roomDetailsTableDesc"/></cells></ColumnListItem></items></Table> -->
                        <VBox id="detailsHBox" width="100%" visible="false" justifyContent="Center" alignContent="Center" alignItems="Center" class="login_form">
                            <items>
                                <Button icon="./resources/images/windows.png" class="saveButton" text="Login" type="Emphasized" press="onOutlookLoginPress"/>
                                <Button icon="./resources/images/windows.png" class="saveButton" text="Logout" type="Emphasized" press="onOutlookLogoutPress"/>
                                <VBox>
                                    <Select id="selectRoomId" class="selectButton" forceSelection="false" items="{
                                        path: 'allRooms>/value'
                                    }">
                                        <core:Item key="{allRooms>userPrincipalName}" text="{allRooms>displayName}" />
                                    </Select>
                                </VBox>
                                <Button class="saveButton" text="Save" type="Emphasized" press="onSavePressButton"/>
                            </items>
                        </VBox>
                    </ScrollContainer>
                    <core:Icon id="calendarImage" src="sap-icon://calendar" class="whiteIcon roomDetailsImageMain" press="onRoomDetailsCalendarOpen"/>
                    <core:Icon id="peopleImage" src="sap-icon://group" class="grayIcon roomDetailsImageMain" press="onRoomDetailsPeopleOpen"/>
                    <core:Icon id="findAnotherImage" src="sap-icon://check-availability" class="grayIcon roomDetailsImageMain" press="onRoomDetailsFindOpen"/>
                    <core:Icon id="openReservationImage" src="sap-icon://action-settings" class="grayIcon roomDetailsImageAdd" press="onRoomDetailsAddOpen"/>
                    <HBox class="imageDescHBox">
                        <Text id="calendarText" text="" class="roomDisplayImageCalendarDescription roomDisplayChangeTextColor"/>
                        <Text id="peopleText" text="" class="roomDisplayImageAttendeesDescription" />
                        <Text id="findAnotherText" text="" class="roomDisplayImageFreeRoomDescription" />
                        <Text id="openReservationText" text="" class="roomDisplayImageAddResDescription" />
                    </HBox>
                </content>
            </Page>
        </pages>
    </App>
</mvc:View>